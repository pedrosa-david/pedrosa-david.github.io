<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPIx Ready Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.107.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.107.html">Serial Peripheral Interface (SPI)</a></li>
        <li class="breadcrumb-item active" aria-current="page">SPIx Ready Function</li>
    </ol>
</nav>

<h1>SPIx Ready Function</h1>
<h1>2.107.12</h1>
<p>SPIx_Ready Function</p>
<p><em>Generated on: 2025-02-20 07:44:01</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-5DDC6EA7-381D-4B4B-AB24-1A940554F455.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-5DDC6EA7-381D-4B4B-AB24-1A940554F455.html</a></p>
<h1><span id="2-107-12-spix-ready-function"></span>2.107.12 SPIx_Ready Function</h1>
<h2><span id="c"></span>C</h2>
<p>```C
/<em> x = SPI instance number </em>/</p>
<p>/<em> SPI slave mode </em>/
void SPIx_Ready(void)
```</p>
<h2><span id="summary"></span>Summary</h2>
<p>Drives the SPI slave busy line to ready (not busy) state</p>
<h2><span id="description"></span>Description</h2>
<p>This function drives the SPI slave busy line to ready state. The slave busy line is driven to active state (busy) when the chip select is driven active by the SPI master. When the data transfer is complete, the chip select is driven inactive and a callback is given to the application. The application can parse the received data and prepare a response for the SPI master. Once the response is ready, the SPI slave can release the busy line by calling this API which drives the busy line to inactive state (not busy). All this while the SPI master must wait for the busy line to become inactive (not busy) before initiating a new transfer with the SPI slave.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>The SPIx_Initialize() should have been called.</p>
<h2><span id="parameters"></span>Parameters</h2>
<p>None</p>
<h2><span id="returns"></span>Returns</h2>
<p>None</p>
<h2><span id="example"></span>Example</h2>
<p>```C
uint8_t APP_TxData[10];
size_t nBytesRead;</p>
<p>void SPIEventHandler(uintptr_t context )
{
    if (SPI1_ErrorGet() == SPI_SLAVE_ERROR_NONE)
    {
        nBytesRead = SPI1_Read(APP_RxData, SPI1_ReadCountGet());</p>
<pre class="code-block"><code class="language-c">    switch(APP_RxData[0])
    {
        case APP_CMD_WRITE:
        // SPI master is writing data to SPI slave
        // Keep the busy line asserted until the write operation is complete
        // Busy line will be de-asserted later when the write operation is complete
        appData.status.busy = 1;

        // Change the state to perform write operation
        state = APP_STATE_WRITE;

        break;

        case APP_CMD_READ:

        // SPI master is reading data from SPI slave
        // Provide the requested data and drive the busy line inactive
        SPI1_Write(APP_TxData, 10);
        break;
    }

    if (appData.status.busy == 0)
    {
        // Indicate to SPI Master that slave is ready for data transfer
        // This if condition will be executed for the APP_CMD_READ case.
        SPI1_Ready();
    }
}
</code></pre>
<p>}
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>This API is available only if the Busy signal feature is enabled in MCC.</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>