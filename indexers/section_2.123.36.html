<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UART RING BUFFER CALLBACK Typedef | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.123.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.123.html">Universal Asynchronous Receiver Transmitter (UART)</a></li>
        <li class="breadcrumb-item active" aria-current="page">UART RING BUFFER CALLBACK Typedef</li>
    </ol>
</nav>

<h1>UART RING BUFFER CALLBACK Typedef</h1>
<h1>2.123.36</h1>
<p>UART_RING_BUFFER_CALLBACK Typedef</p>
<p><em>Generated on: 2025-02-20 07:44:01</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-47B2F056-EC5C-42F8-96BF-BF6DA82AC48E.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-47B2F056-EC5C-42F8-96BF-BF6DA82AC48E.html</a></p>
<h1><span id="2-123-36-uart-ring-buffer-callback-typedef"></span>2.123.36 UART_RING_BUFFER_CALLBACK Typedef</h1>
<h2><span id="c"></span>C</h2>
<p>```C
/<em> Ring buffer mode </em>/</p>
<p>typedef void (* UART_RING_BUFFER_CALLBACK)(UART_EVENT event, uintptr_t context );
```</p>
<h2><span id="summary"></span>Summary</h2>
<p>Defines the data type and function signature for the UART peripheral callback function in the ring buffer mode.</p>
<h2><span id="description"></span>Description</h2>
<p>This data type defines the function signature for the UART peripheral callback function in the ring buffer mode. The UART peripheral will call back the client's function with this signature when the UART buffer event has occurred.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>UARTx_Initialize must have been called for the given UART peripheral instance. Callback must have been registered using UARTx_WriteCallbackRegister or UARTx_ReadCallbackRegister routines and event notifications are enabled using the UARTx_WriteNotificationEnable or UARTx_ReadNotificationEnable routines.</p>
<h2><span id="parameters"></span>Parameters</h2>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>event</td>
<td>Indicates the event for which the callback is called</td>
</tr>
<tr>
<td>context</td>
<td>Allows the caller to provide a context value (usually a pointerto the callers context for multiple clients).</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>event</td>
<td>Indicates the event for which the callback is called</td>
</tr>
<tr>
<td>context</td>
<td>Allows the caller to provide a context value (usually a pointerto the callers context for multiple clients).</td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<p>None.</p>
<h2><span id="example"></span>Example</h2>
<p>```C
uint8_t txBuffer[50];
uint8_t rxBuffer[10];</p>
<p>volatile bool txThresholdEventReceived = false;
volatile bool rxThresholdEventReceived = false;
volatile uint32_t nBytesRead = 0;</p>
<p>void usartWriteEventHandler(UART_EVENT event, uintptr_t context )
{
    txThresholdEventReceived = true;
}</p>
<p>void usartReadEventHandler(UART_EVENT event, uintptr_t context )
{
    uint32_t nBytesAvailable = 0;</p>
<pre class="code-block"><code class="language-c">if (event == UART_EVENT_READ_THRESHOLD_REACHED)
{
    nBytesAvailable = UART1_ReadCountGet();

    nBytesRead += UART1_Read((uint8_t*)&amp;rxBuffer[nBytesRead], nBytesAvailable);
}
</code></pre>
<p>}</p>
<p>//----------------------------------------------------------//</p>
<p>// Register a callback for write events
UART1_WriteCallbackRegister(usartWriteEventHandler, (uintptr_t) NULL);</p>
<p>// Set TX threshold - TX buffer is empty
UART1_WriteThresholdSet(UART1_WriteBufferSizeGet());</p>
<p>// Enable notifications. Enables notification when threshold condition is reached
UART1_WriteNotificationEnable(true, false);</p>
<p>// Register a callback for read events
UART1_ReadCallbackRegister(usartReadEventHandler, (uintptr_t) NULL);</p>
<p>// Set RX threshold - when 5 characters are available in the receive buffer
UART1_ReadThresholdSet(5);</p>
<p>// Enable RX event notifications
UART1_ReadNotificationEnable(true, false);
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>None</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>