<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLEXCOMx SPI ReadCountGet Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.45.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.45.html">Flexible Serial Communication Controller (FLEXCOM)</a></li>
        <li class="breadcrumb-item active" aria-current="page">FLEXCOMx SPI ReadCountGet Function</li>
    </ol>
</nav>

<h1>FLEXCOMx SPI ReadCountGet Function</h1>
<h1>2.45.42</h1>
<p>FLEXCOMx_SPI_ReadCountGet Function</p>
<p><em>Generated on: 2025-02-20 07:44:03</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-204527CF-816A-46E1-A0A5-94401F9DA50E.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-204527CF-816A-46E1-A0A5-94401F9DA50E.html</a></p>
<h1><span id="2-45-42-flexcomx-spi-readcountget-function"></span>2.45.42 FLEXCOMx_SPI_ReadCountGet Function</h1>
<h2><span id="c"></span>C</h2>
<p>```C
/<em> x = FLEXCOM instance number </em>/</p>
<p>/<em> SPI slave mode </em>/</p>
<p>size_t FLEXCOMx_SPI_ReadCountGet(void)
```</p>
<h2><span id="summary"></span>Summary</h2>
<p>Returns the number of bytes pending to be read out from the PLIB's internal receive buffer</p>
<h2><span id="description"></span>Description</h2>
<p>This function returns the number of unread bytes availabe in the SPI slave PLIB's internal receive buffer. Application can call this API to know the bytes available in PLIBs internal buffer before calling the FLEXCOMx_SPI_Read API.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>The FLEXCOMx_SPI_Initialize function must have been called</p>
<h2><span id="parameters"></span>Parameters</h2>
<p>None</p>
<h2><span id="returns"></span>Returns</h2>
<p>size_t - Number of bytes available in the PLIB's internal receive buffer. If 16/32 bit modes are supported, the return value is specified in terms of 16/32 bit words.</p>
<h2><span id="example"></span>Example</h2>
<p>```C
uint8_t APP_RxData[10];
size_t nBytesAvailable;
size_t nBytesRead;</p>
<p>void SPIEventHandler(uintptr_t context )
{
    if (FLEXCOM0_SPI_ErrorGet() == SPI_SLAVE_ERROR_NONE)
    {
        nBytesAvailable = FLEXCOM0_SPI_ReadCountGet();</p>
<pre class="code-block"><code class="language-c">    nBytesRead = FLEXCOM0_SPI_Read(APP_RxData, nBytesAvailable);
}
else
{
    // Handle error
}
</code></pre>
<p>}</p>
<p>FLEXCOM0_SPI_CallbackRegister(SPIEventHandler, (uintptr_t) 0);
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>None.</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>