<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XDMACn ChannelTransfer Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.126.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.126.html">Extensible DMA Controller (XDMAC)</a></li>
        <li class="breadcrumb-item active" aria-current="page">XDMACn ChannelTransfer Function</li>
    </ol>
</nav>

<h1>XDMACn ChannelTransfer Function</h1>
<h1>2.126.3</h1>
<p>XDMACn_ChannelTransfer Function</p>
<p><em>Generated on: 2025-02-20 07:44:02</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-A222E53F-D9B6-411E-ACB7-D4BA3F6AC837.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-A222E53F-D9B6-411E-ACB7-D4BA3F6AC837.html</a></p>
<h1><span id="2-126-3-xdmacn-channeltransfer-function"></span>2.126.3 XDMACn_ChannelTransfer Function</h1>
<h2><span id="c"></span>C code</h2>
<p><pre class="code-block"><code class="language-c">// n is instance of the peripheral and it is applicable only for devices having multiple instances of the peripheral.
bool XDMACn_ChannelTransfer
(
XDMAC_CHANNEL channel,
const void *srcAddr,
const void *destAddr,
size_t blockSize
)</code></pre></p>
<h2><span id="summary"></span>Summary</h2>
<p>Adds a data transfer to a XDMAC channel and enables the channel to start data transfer.</p>
<h2><span id="description"></span>Description</h2>
<p>This function adds a single block data transfer characteristics for a
specific XDMAC channel id it is not busy already. It also enables the
channel to start data transfer.</p>
<p>If the requesting client registered an event callback with the PLIB,
the PLIB will issue a XDMAC_TRANSFER_COMPLETE event if the transfer was
processed successfully and XDMAC_TRANSFER_ERROR event if the transfer was
not processed successfully.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>XDMAC should have been initialized by calling XDMACn_Initialize.</p>
<h2><span id="parameters"></span>Parameters</h2>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>channel</td>
<td>A specific XDMAC channel</td>
</tr>
<tr>
<td>srcAddr</td>
<td>Source of the XDMAC transfer</td>
</tr>
<tr>
<td>destAddr</td>
<td>Destination of the XDMAC transfer</td>
</tr>
<tr>
<td>blockSize</td>
<td>Size of the transfer block</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>channel</td>
<td>A specific XDMAC channel</td>
</tr>
<tr>
<td>srcAddr</td>
<td>Source of the XDMAC transfer</td>
</tr>
<tr>
<td>destAddr</td>
<td>Destination of the XDMAC transfer</td>
</tr>
<tr>
<td>blockSize</td>
<td>Size of the transfer block</td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<ul>
<li>
<p>True - If transfer request is accepted.</p>
</li>
<li>
<p>False - If previous transfer is in progress and the request is rejected.</p>
</li>
</ul>
<h2><span id="example"></span>Example</h2>
<p>```C
// Transfer 10 bytes of data to UART TX using XDMAC channel 1
MY_APP_OBJ myAppObj;
uint8_t buf[10] = {0,1,2,3,4,5,6,7,8,9};
    void <em>srcAddr = (uint8_t </em>) buf;
    void <em>destAddr = (uin8_t</em>) &amp;U1TXREG
    size_t size = 10;</p>
<pre class="code-block"><code class="language-c">// User registers an event handler with PLIB. This is done once.
XDMAC_ChannelCallbackRegister(APP_XDMACTransferEventHandler,
(uintptr_t)&amp;myAppObj);

if (XDMAC_ChannelTransfer(XDMAC_CHANNEL_1, srcAddr, destAddr, size) == true)
{
    // do something else
}
else
{
    // try again?
}
</code></pre>
<p>```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>When DMA transfer buffers are placed in cacheable memory, cache maintenance operation must be performed by cleaning and invalidating cache for DMA buffers located in cacheable SRAM region using CMSIS APIs. The buffer start address must be aligned to cache line and buffer size must be multiple of cache line. Refer to device documentation to find the cache line size.  Invalidate cache lines having received buffer before using it to load the latest data in the actual memory to the cache SCB_InvalidateDCache_by_Addr((uint32_t <em>)&amp;readBuffer, sizeof(readBuffer));  Clean cache lines having source buffer before submitting a transfer request to XDMAC to load the latest data in the cache to the actual memory SCB_CleanDCache_by_Addr((uint32_t </em>)&amp;writeBuffer, sizeof(writeBuffer));</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>