<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTMx CallbackRegister Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.53.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.53.html">HTM (Hibernation Timer)</a></li>
        <li class="breadcrumb-item active" aria-current="page">HTMx CallbackRegister Function</li>
    </ol>
</nav>

<h1>HTMx CallbackRegister Function</h1>
<h1>2.53.6</h1>
<p>HTMx_CallbackRegister Function</p>
<p><em>Generated on: 2025-02-20 07:44:03</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-52CCC798-63A5-4422-8EEE-A468213B030A.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-52CCC798-63A5-4422-8EEE-A468213B030A.html</a></p>
<h1><span id="2-53-6-htmx-callbackregister-function"></span>2.53.6 HTMx_CallbackRegister Function</h1>
<h2><span id="c"></span>C</h2>
<p>```C
/<em> x = HTM timer instance number </em>/</p>
<p>void HTMx_CallbackRegister( HTM_TMR_CALLBACK callback_fn, uintptr_t context )
```</p>
<h2><span id="summary"></span>Summary</h2>
<p>Allows application to register a callback with the PLIB</p>
<h2><span id="description"></span>Description</h2>
<p>This function sets the pointer to a client/application function to be called "back"
                when the HTM timer expires. It also passes a context value (usually a pointer to a
                context structure) that is passed into the function when it is called. The specified
                callback function will be called from the peripheral interrupt context. The callback
                should be registered before starting the timer.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>HTMx_Initialize() function must have been called first.</p>
<h2><span id="parameters"></span>Parameters</h2>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback_fn</td>
<td>A pointer to a function with a calling signature</td>
</tr>
<tr>
<td>defined by the HTM_TMR_CALLBACK data type. Setting this to NULL</td>
<td></td>
</tr>
<tr>
<td>disables the callback feature.</td>
<td></td>
</tr>
<tr>
<td>context</td>
<td>A value (usually a pointer) which is passed (unused)</td>
</tr>
<tr>
<td>into the function identified by the callback parameter</td>
<td></td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback_fn</td>
<td>A pointer to a function with a calling signature</td>
</tr>
<tr>
<td>defined by the HTM_TMR_CALLBACK data type. Setting this to NULL</td>
<td></td>
</tr>
<tr>
<td>disables the callback feature.</td>
<td></td>
</tr>
<tr>
<td>context</td>
<td>A value (usually a pointer) which is passed (unused)</td>
</tr>
<tr>
<td>into the function identified by the callback parameter</td>
<td></td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<p>None</p>
<h2><span id="example"></span>Example</h2>
<p>```C
void htm_timeout_callback(uintptr_t context)
{
    /<em> Handle HTM timer timeout </em>/</p>
<pre class="code-block"><code class="language-c">/* Restart the HTM timer */
HTM0_PeriodSet(32768);
</code></pre>
<p>}</p>
<p>HTM0_CallbackRegister(htm_timeout_callback, 0);
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>None</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>