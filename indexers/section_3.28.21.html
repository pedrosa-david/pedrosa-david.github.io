<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shutdown Controller (SHDWC) | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_3.28.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_3.html">Device Families</a></li>
        <li class="breadcrumb-item"><a href="section_3.28.html">SAM 9X60 Peripheral Libraries</a></li>
        <li class="breadcrumb-item active" aria-current="page">Shutdown Controller (SHDWC)</li>
    </ol>
</nav>

<h1>Shutdown Controller (SHDWC)</h1>
<h1>3.28.21</h1>
<p>Shutdown Controller (SHDWC)</p>
<p><em>Generated on: 2025-02-19 08:42:44</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-C7B267CC-CA10-49F5-8266-09A88E2908CF.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-C7B267CC-CA10-49F5-8266-09A88E2908CF.html</a></p>
<h1>3.28.21 Shutdown Controller (SHDWC)</h1>
<p>The Shutdown Controller asserts the SHUTDOWN output pin and performs wakeup detection on debounced input lines.</p>
<p>It has the following Embedded Characteristics:</p>
<p>Shutdown Logic</p>
<p>Software Assertion of the Shutdown Output Pin (SHDN)</p>
<p>Programmable deassertion from the PIOBU, WKUP Input Pins</p>
<p>Wakeup Logic</p>
<p>Programmable Assertion from the PIOBU, WKUP Input Pins, and Internal Wakeup Event from RTC, RXLP, ACC, Security Module</p>
<ul>
<li>
<p>Shutdown Logic</p>
<pre class="code-block"><code class="language-c">    Software Assertion of the Shutdown Output Pin (SHDN)

    Programmable deassertion from the PIOBU, WKUP Input Pins
</code></pre>
<ul>
<li>Software Assertion of the Shutdown Output Pin (SHDN)</li>
<li>Programmable deassertion from the PIOBU, WKUP Input Pins</li>
<li>Wakeup Logic<pre class="code-block"><code class="language-c">Programmable Assertion from the PIOBU, WKUP Input Pins, and Internal Wakeup Event from RTC, RXLP, ACC, Security Module
</code></pre>
<ul>
<li>Programmable Assertion from the PIOBU, WKUP Input Pins, and Internal Wakeup Event from RTC, RXLP, ACC, Security Module</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Software Assertion of the Shutdown Output Pin (SHDN)</p>
</li>
<li>
<p>Programmable deassertion from the PIOBU, WKUP Input Pins</p>
</li>
<li>
<p>Programmable Assertion from the PIOBU, WKUP Input Pins, and Internal Wakeup Event from RTC, RXLP, ACC, Security Module</p>
</li>
</ul>
<h2>Using The Library</h2>
<p>Shutdown peripheral library can be used to:</p>
<p>Configure the wakeup events for the MPU</p>
<p>Software assert the SHDN signal to indicate that the MPU needs to be shutdown. A typical application connects the pin SHDN to the shutdown input of the DC/DC Converter providing the main power supplies of the system, and especially VDDCORE and/or VDDIO.</p>
<p>Get the event that caused the MPU to wake up</p>
<p>The following program demonstrates assertion of the SHDN signal on pressing of a switch connected to the PIO.The program normally toggles an LED, and upon pressing the switch the SHDN signal is asserted. This signal,if connected to the external PMIC, would then be used to manage the power to the MPU.</p>
<p>```C
void switchHandler( PIO_PIN pin, uintptr_t context)
{
    SHDWC_Shutdown();
}</p>
<p>int main ( void )
{
    /<em> Initialize all modules </em>/
    SYS_Initialize ( NULL );
    PIO_PinInterruptCallbackRegister(SWITCH_PIN, switchHandler, 0);
    PIO_PinInterruptEnable(SWITCH_PIN);</p>
<pre class="code-block"><code class="language-c">while ( true )
{
    PIT_DelayMs(500);
    LED_Toggle();
    /* Maintain state machines of all polled MPLAB Harmony modules. */
    SYS_Tasks ( );
}

/* Execution should not come here during normal operation */
return ( EXIT_FAILURE );
</code></pre>
<p>}
```</p>
<ul>
<li>Configure the wakeup events for the MPU</li>
<li>Software assert the SHDN signal to indicate that the MPU needs to be shutdown. A typical application connects the pin SHDN to the shutdown input of the DC/DC Converter providing the main power supplies of the system, and especially VDDCORE and/or VDDIO.</li>
<li>Get the event that caused the MPU to wake up</li>
</ul>
<h2>Library Interface</h2>
<p>Shutdown Controller peripheral library provides the following interfaces:</p>
<p>Functions</p>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SHDWC_Initialize</td>
<td>Initialize shutdown controller</td>
</tr>
<tr>
<td>SHDWC_Shutdown</td>
<td>Assert the shutdown signal</td>
</tr>
<tr>
<td>SHDWC_GetWakeup</td>
<td>Read and clear the status register</td>
</tr>
</tbody>
</table>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>