<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDHCx CallbackRegister Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.99.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.99.html">SD MMC Host Controller (SDHC)</a></li>
        <li class="breadcrumb-item active" aria-current="page">SDHCx CallbackRegister Function</li>
    </ol>
</nav>

<h1>SDHCx CallbackRegister Function</h1>
<h1>2.99.18</h1>
<p>SDHCx_CallbackRegister Function</p>
<p><em>Generated on: 2025-02-20 07:44:05</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-74F9F9F4-F8C9-40DA-9C86-9684AFEE65E9.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-74F9F9F4-F8C9-40DA-9C86-9684AFEE65E9.html</a></p>
<h1><span id="2-99-18-sdhcx-callbackregister-function"></span>2.99.18 SDHCx_CallbackRegister Function</h1>
<h2><span id="c"></span>C</h2>
<p>```C
/<em> x = SDHC instance number (x is applicable only on devices with more than one instances of SDHC) </em>/</p>
<p>void SDHCx_CallbackRegister(SDHC_CALLBACK callback, uintptr_t contextHandle)
```</p>
<h2><span id="summary"></span>Summary</h2>
<p>This function allows a application to set an callback (event handler) with the SDHC PLIB</p>
<h2><span id="description"></span>Description</h2>
<p>This function allows application to set an event handler. Application may want
to receive transfer related events after submitting a SDHC PLIB
transfer request. The event handler should be set before the application
intends to perform operations that could generate events.</p>
<p>This function accepts a contextHandle parameter. This parameter could be
set by the application to contain (or point to) any application specific data object
that should be associated with this SDHC PLIB. The contextHandle parameter
is not modified by the PLIB and is passed as is in the application event handler.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>SDHC_Initialize() must have been called first for the associated instance.</p>
<h2><span id="parameters"></span>Parameters</h2>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>Pointer to the event handler function</td>
</tr>
<tr>
<td>contextHandle</td>
<td>The value of parameter will be passed back to the application unchanged, when the callback function is called. It can be used to identify any application specific data object that identifies the instance of the module (for example, it may be a pointer to the modules state structure)</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>Pointer to the event handler function</td>
</tr>
<tr>
<td>contextHandle</td>
<td>The value of parameter will be passed back to the application unchanged, when the callback function is called. It can be used to identify any application specific data object that identifies the instance of the module (for example, it may be a pointer to the modules state structure)</td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<p>None</p>
<h2><span id="example"></span>Example</h2>
<p>```C
MY_APP_OBJ myAppObj;</p>
<p>static void SDHC_TransferEventHandler(
    SDHC_XFER_STATUS xferStatus,
    uintptr_t contextHandle
)
{
    MY_APP_OBJ<em> myAppObj = (MY_APP_OBJ</em>)contextHandle;</p>
<pre class="code-block"><code class="language-c">if (xferStatus &amp; SDHC_XFER_STATUS_CMD_COMPLETED)
{
    // Command transfer complete, read the command error status.
    cmd_error = SDHC1_CommandErrorGet();
}
if (xferStatus &amp; SDHC_XFER_STATUS_DATA_COMPLETED)
{
    // Data transfer complete, read the data error status.
    data_error = SDHC1_DataErrorGet();
}
</code></pre>
<p>}</p>
<p>// User registers an event handler with the SDHC PLIB. This is usually done once.
SDHC1_CallbackRegister(SDHC_TransferEventHandler, (uintptr_t)&amp;myAppObj);
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>None</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>