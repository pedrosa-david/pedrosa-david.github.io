<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMAC ChannelTransfer Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.30.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.30.html">Direct Memory Access Controller (DMAC)</a></li>
        <li class="breadcrumb-item active" aria-current="page">DMAC ChannelTransfer Function</li>
    </ol>
</nav>

<h1>DMAC ChannelTransfer Function</h1>
<h1>2.30.3</h1>
<p>DMAC_ChannelTransfer Function</p>
<p><em>Generated on: 2025-02-20 07:44:02</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-00BB3C39-8BF7-4F6E-833A-8E93E669117A.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-00BB3C39-8BF7-4F6E-833A-8E93E669117A.html</a></p>
<h1><span id="2-30-3-dmac-channeltransfer-function"></span>2.30.3 DMAC_ChannelTransfer Function</h1>
<h2><span id="c"></span>C code</h2>
<p><pre class="code-block"><code class="language-c">bool DMAC_ChannelTransfer(DMAC_CHANNEL channel, const void *srcAddr, const void *destAddr, size_t blockSize)</code></pre></p>
<p>The prototype of this function varies based on device family. Refer to the generated header file for the actual prototype to be used.</p>
<h2><span id="summary"></span>Summary</h2>
<p>Schedules a DMA transfer on the specified DMA channel.</p>
<h2><span id="description"></span>Description</h2>
<p>This function schedules a DMA transfer on the specified DMA channel and
starts the transfer when the configured trigger is received. The transfer is
processed based on the channel configuration performed in the DMA manager.
The channel parameter specifies the channel to be used for the transfer.</p>
<p>The srcAddr parameter specifies the source address from where data will be
transferred. This address will override the source address which was
specified at the time of configuring the channel in DMA Manager. When a
trigger is received, the module will transfer beat size of data from the
source address. In such a case, the source address is typically a result
register of the peripheral generating the trigger. For a memory to memory
transfer, the srcAddress parameter points to the source address location in
RAM.</p>
<p>The destAddr parameter specifies the address location where the data will be stored. This
        parameter will override the setting in MCC. If the destination address is a peripheral
        register, the channel trigger may be an interrupt generated by the peripheral. In case of a
        memory to memory transfer, this is the address where the data will be stored. If the CRC
        engine is enabled and configured in Memory mode then Store the seed to be used by CRC engine
        in the destination address.</p>
<p>If the channel is configured for software trigger, calling the channel
transfer function will set the source and destination address and will also
start the transfer. If the channel was configured for a peripheral trigger,
the channel transfer function will set the source and destination address
and will transfer data when a trigger has occurred.</p>
<p>If the requesting client registered an event callback function before
calling the channel transfer function, this function will be called when the
transfer completes. The callback function will be called with a
DMAC_TRANSFER_COMPLETE event if the transfer was processed successfully and
a DMAC_TRANSFER_ERROR event if the transfer was not processed successfully.</p>
<p>When already a transfer is in progress, this API will return false indicating
that transfer request is not accepted.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>DMAC should have been initialized by calling the DMAC_Initialize. Based on device family,
        the required channel transfer parameters such as beat size, source and destination address
        increment should have been configured in MCC.</p>
<h2><span id="parameters"></span>Parameters</h2>
<p>Parameters  of this function varies based on device family. Refer to the one which is applicable for the device being used.</p>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DMAC_CHANNEL channel</td>
<td>DMA channel to use for this transfer</td>
</tr>
<tr>
<td>srcAddr</td>
<td>pointer to source data</td>
</tr>
<tr>
<td>srcSize</td>
<td>Size of the source</td>
</tr>
<tr>
<td>destAddr</td>
<td>pointer to where data is to be moved to</td>
</tr>
<tr>
<td>destSize</td>
<td>Size of the destination</td>
</tr>
<tr>
<td>cellSize</td>
<td>Size of the cell</td>
</tr>
<tr>
<td>channel</td>
<td>The DMAC channel that should be used for the transfer.</td>
</tr>
<tr>
<td>srcAddr</td>
<td>Source address of the DMAC transfer</td>
</tr>
<tr>
<td>destAddr</td>
<td>Destination address of the DMAC transfer. If the CRC engine is enabled and configured in Memory mode then Store the seed to be used by CRC engine in the destination address.</td>
</tr>
<tr>
<td>blockSize</td>
<td>Size of the transfer block in bytes.</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DMAC_CHANNEL channel</td>
<td>DMA channel to use for this transfer</td>
</tr>
<tr>
<td>srcAddr</td>
<td>pointer to source data</td>
</tr>
<tr>
<td>srcSize</td>
<td>Size of the source</td>
</tr>
<tr>
<td>destAddr</td>
<td>pointer to where data is to be moved to</td>
</tr>
<tr>
<td>destSize</td>
<td>Size of the destination</td>
</tr>
<tr>
<td>cellSize</td>
<td>Size of the cell</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>channel</td>
<td>The DMAC channel that should be used for the transfer.</td>
</tr>
<tr>
<td>srcAddr</td>
<td>Source address of the DMAC transfer</td>
</tr>
<tr>
<td>destAddr</td>
<td>Destination address of the DMAC transfer. If the CRC engine is enabled and configured in Memory mode then Store the seed to be used by CRC engine in the destination address.</td>
</tr>
<tr>
<td>blockSize</td>
<td>Size of the transfer block in bytes.</td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<ul>
<li>
<p>True - If transfer request is accepted.</p>
</li>
<li>
<p>False - If previous transfer is in progress and the request is rejected.</p>
</li>
</ul>
<h2><span id="example"></span>Example</h2>
<p>Example of this function varies based on device family. Refer to the one which is applicable for the device being used.</p>
<p>```C
// Transfer 10 bytes of data to UART TX using DMAC channel 1
MY_APP_OBJ myAppObj;
uint8_t buf[10] = {0,1,2,3,4,5,6,7,8,9};
    void <em>srcAddr = (uint8_t </em>) buf;
    void <em>destAddr = (uin8_t</em>) &amp;U1TXREG
    size_t size = 10;</p>
<pre class="code-block"><code class="language-c">// User registers an event handler with PLIB. This is done once.
DMAC_ChannelCallbackRegister(DMAC_CHANNEL_1, APP_DMACTransferEventHandler,
(uintptr_t)&amp;myAppObj);

if(DMAC_ChannelTransfer(DMAC_CHANNEL_1, srcAddr, size, destAddr, 1, 1) == true)
{
    // do something else
}
else
{
    // try again?
}
</code></pre>
<p>```</p>
<p>```C
// Transfer 10 bytes of data to UART TX using DMAC channel 1
MY_APP_OBJ myAppObj;
uint8_t buf[10] = {0,1,2,3,4,5,6,7,8,9};
    void <em>srcAddr = (uint8_t </em>) buf;
    void <em>destAddr = (uin8_t</em>) &amp;SERCOM1_REGS-&gt;USART_INT.SERCOM_DATA;
    size_t size = 10;</p>
<pre class="code-block"><code class="language-c">// User registers an event handler with PLIB. This is done once.
DMAC_ChannelCallbackRegister(DMAC_CHANNEL_1, APP_DMACTransferEventHandler,
(uintptr_t)&amp;myAppObj);

if(DMAC_ChannelTransfer(DMAC_CHANNEL_1, srcAddr, destAddr, size) == true)
{
    // do something else
}
else
{
    // try again?
}
</code></pre>
<p>```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>None.</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>