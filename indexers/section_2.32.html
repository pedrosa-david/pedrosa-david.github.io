<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Service Unit (DSU) | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item active" aria-current="page">Device Service Unit (DSU)</li>
    </ol>
</nav>

<h1>Device Service Unit (DSU)</h1>
<h1>2.32</h1>
<p>Device Service Unit (DSU)</p>
<p><em>Generated on: 2025-02-20 07:44:02</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-349E95EF-4EA0-4856-84CF-C82AA2EB5A65.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-349E95EF-4EA0-4856-84CF-C82AA2EB5A65.html</a></p>
<h1><span id="2-32-device-service-unit-dsu"></span>2.32 Device Service Unit (DSU)</h1>
<p>The DSU unit provides support for calculating a cyclic redundancy check (CRC32) value for a memory area. A cyclic redundancy check (CRC) is an error detection technique used to find accidental errors in data. It is commonly used to determine whether the data during a transmission, or data present in data and program memories has been corrupted or not.</p>
<p>A CRC takes a data stream or a block of data as input and generates a 32-bit output that can be appended to the data and used as a checksum. When the same data are later received or read, the device or application repeats the calculation. If the new CRC result does not match the one calculated earlier, the block contains a data error. The application will then detect this and may take a corrective action, such as requesting the data to be sent again or simply not using the incorrect data.</p>
<h2><span id="using-the-library"></span>Using The Library</h2>
<p>CRC32 calculation for a memory range is started after writing the start address into the Address register (ADDR) and the size of the memory range into the Length register (LENGTH). Both must be word aligned. The initial seed value used for the CRC32 calculation must be written to the Data register (DATA). This value will usually be 0xFFFFFFFF, but can be, for example, the result of a previous CRC32 calculation if generating a common CRC32 of separate memory blocks.</p>
<p>Once completed, the calculated CRC32 value can be read out of the Data register. The read value must be complemented to match standard CRC32 implementations or kept non-inverted if used as starting point for subsequent CRC32 calculations.</p>
<p>The example code below demonstrates how to compute CRC.</p>
<p>```C</p>
<h1>define CRC_DATA_LENGTH         16          // in bytes</h1>
<h1>define CRC_SEED                0xFFFFFFFF</h1>
<p>/<em> Random generated data </em>/
const uint8_t crc_data[CRC_DATA_LENGTH] = {0xf0, 0x7f, 0x00, 0x20, 0x19, 0x0c, 0x00, 0x00, 0x39, 0x0e, 0x00, 0x00, 0x3b, 0x0e, 0x00, 0x00}</p>
<p>int main ( void )
{
    uint32_t hw_crc32   = 0;</p>
<pre class="code-block"><code class="language-c">PAC_PeripheralProtectSetup (PAC_PERIPHERAL_DSU, PAC_PROTECTION_CLEAR);

DSU_CRCCalculate((uint32_t)&amp;crc_data, CRC_DATA_LENGTH, CRC_SEED, &amp;hw_crc32);

PAC_PeripheralProtectSetup (PAC_PERIPHERAL_DSU, PAC_PROTECTION_SET);
</code></pre>
<p>}
```</p>
<h2><span id="library-interface"></span>Library Interface</h2>
<p>Device Service Unit peripheral library provides the following interfaces:</p>
<p>Functions</p>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DSU_CRCCalculate</td>
<td>Calculates the CRC Value for the specified address range</td>
</tr>
</tbody>
</table>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>