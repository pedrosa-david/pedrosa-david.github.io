<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peripheral Access Controller (PAC) | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_3.43.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_3.html">Device Families</a></li>
        <li class="breadcrumb-item"><a href="section_3.43.html">SAM L22 Peripheral Libraries</a></li>
        <li class="breadcrumb-item active" aria-current="page">Peripheral Access Controller (PAC)</li>
    </ol>
</nav>

<h1>Peripheral Access Controller (PAC)</h1>
<h1>3.43.14</h1>
<p>Peripheral Access Controller (PAC)</p>
<p><em>Generated on: 2025-02-19 08:42:44</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-E88E0F56-C2AF-4F24-8ED8-D620559D5EAA_12.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-E88E0F56-C2AF-4F24-8ED8-D620559D5EAA_12.html</a></p>
<h1>3.43.14 Peripheral Access Controller (PAC)</h1>
<p>The Peripheral Access Controller (PAC) provides interface to protect write access to a peripheral's registers to minimize risk of unintended configuration changes as a result of run-away code.</p>
<p>The peripheral registers that can be protected is denoted by the "PAC Write-Protection" property in each individual register description.</p>
<h2>Using The Library</h2>
<p>The Peripheral Access Controller (PAC) provides interface to protect write access to a peripheral's registers to minimize risk of unintended configuration changes as a result of run-away code. The Following operations are provided to manage the peripheral access.</p>
<p>Clear Protection:</p>
<p>This operation will remove the write access protection for the selected peripheral to enable write access</p>
<p>Set Protection:</p>
<p>This operation will set the write access protection for the selected peripheral to disable write access.</p>
<p>Set and Lock Protection:</p>
<p>This operation will set the write access protection for the selected peripheral to disable write access and locks the access rights of the selected peripheral registers.</p>
<p>The write access protection will only be cleared by a hardware reset.</p>
<p>In an application where write protection is also modified in main and interrupt context, the interrupts must be disabled so that the interrupt can not happen while the main application manipulate the write protection status.</p>
<p>The registered callback function will be called when Peripheral Access Error occurs due to the following:</p>
<p>If a peripheral is write protected and if a write access is attempted, data will not be written and peripheral returns an access error.</p>
<p>Attempting to set protection for the peripheral that is already set or attempting to clear protection for the peripheral that is already cleared. This is a safety feature to ensure correct program execution sequence to clear and set the protection.</p>
<p>Access to an unimplemented register within the module.</p>
<p>For write-synchronized registers an error will be reported if the register is written while a synchronization is ongoing.</p>
<p>The example code below demonstrates how to Clear/Set  protection for DSU peripheral using PAC.</p>
<p>```C
bool status = false;</p>
<p>status = PAC_PeripheralIsProtected(PAC_PERIPHERAL_DSU);</p>
<p>if (status == true)
{
    PAC_PeripheralProtectSetup(PAC_PERIPHERAL_DSU, PAC_PROTECTION_CLEAR);
}
else
{
    PAC_PeripheralProtectSetup(PAC_PERIPHERAL_DSU, PAC_PROTECTION_SET);
}
```</p>
<ul>
<li>
<p>Clear Protection:</p>
<pre class="code-block"><code class="language-c">      This operation will remove the write access protection for the selected peripheral to enable write access
</code></pre>
<ul>
<li>This operation will remove the write access protection for the selected peripheral to enable write access</li>
<li>Set Protection:<pre class="code-block"><code class="language-c">  This operation will set the write access protection for the selected peripheral to disable write access.
</code></pre>
<ul>
<li>This operation will set the write access protection for the selected peripheral to disable write access.</li>
<li>
<p>Set and Lock Protection:</p>
<p>This operation will set the write access protection for the selected peripheral to disable write access and locks the access rights of the selected peripheral registers.</p>
<p>The write access protection will only be cleared by a hardware reset.
- This operation will set the write access protection for the selected peripheral to disable write access and locks the access rights of the selected peripheral registers.
- The write access protection will only be cleared by a hardware reset.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>This operation will remove the write access protection for the selected peripheral to enable write access</p>
</li>
<li>
<p>This operation will set the write access protection for the selected peripheral to disable write access.</p>
</li>
<li>
<p>This operation will set the write access protection for the selected peripheral to disable write access and locks the access rights of the selected peripheral registers.</p>
</li>
<li>
<p>The write access protection will only be cleared by a hardware reset.</p>
</li>
<li>
<p>If a peripheral is write protected and if a write access is attempted, data will not be written and peripheral returns an access error.</p>
</li>
<li>Attempting to set protection for the peripheral that is already set or attempting to clear protection for the peripheral that is already cleared. This is a safety feature to ensure correct program execution sequence to clear and set the protection.</li>
<li>Access to an unimplemented register within the module.</li>
<li>For write-synchronized registers an error will be reported if the register is written while a synchronization is ongoing.</li>
</ul>
<h2>Library Interface</h2>
<p>Peripheral Access Controller peripheral library provides the following interfaces:</p>
<p>Functions</p>
<p>Data types and constants</p>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PAC_Initialize</td>
<td>Initializes given instance of PAC peripheral</td>
</tr>
<tr>
<td>PAC_PeripheralIsProtected</td>
<td>Returns PAC protection status of peripheral</td>
</tr>
<tr>
<td>PAC_PeripheralProtectSetup</td>
<td>This function configures PAC protection for the specified peripheral</td>
</tr>
<tr>
<td>PAC_CallbackRegister</td>
<td>Registers the function to be called when a PAC error has occurred</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PAC_PERIPHERAL</td>
<td>Enum</td>
<td>List of available Peripheral module on which errors will be detected</td>
</tr>
<tr>
<td>PAC_PROTECTION</td>
<td>Enum</td>
<td>List of available Peripheral Access Control Operations</td>
</tr>
<tr>
<td>PAC_CALLBACK</td>
<td>Typedef</td>
<td>Defines the data type and function signature for the PAC peripheral callback function</td>
</tr>
</tbody>
</table>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>