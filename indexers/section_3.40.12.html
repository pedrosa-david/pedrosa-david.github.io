<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power Manager (PM) | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_3.40.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_3.html">Device Families</a></li>
        <li class="breadcrumb-item"><a href="section_3.40.html">SAM HA1 Peripheral Libraries</a></li>
        <li class="breadcrumb-item active" aria-current="page">Power Manager (PM)</li>
    </ol>
</nav>

<h1>Power Manager (PM)</h1>
<h1>3.40.12</h1>
<p>Power Manager (PM)</p>
<p><em>Generated on: 2025-02-19 08:42:44</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-B330F8D5-266F-4B04-8647-6EE8852C5B12_5.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-B330F8D5-266F-4B04-8647-6EE8852C5B12_5.html</a></p>
<h1>3.40.12 Power Manager (PM)</h1>
<p>The Power Manager (PM) consists of three modules: the synchronous clock
controller, the sleep controller, and the reset controller. These
modules are responsible for distributing clocks, supervising low power
modes, and administering the MCU's resets.</p>
<p>Sleep Controller</p>
<p>In active mode, all clock domains are active, allowing software
execution and peripheral operation. The Sleep Mode Controller allows
the user to choose between different sleep modes depending on
application requirements, to save power.</p>
<p>There are two main types of sleep modes available::</p>
<p>Idle sleep mode: The CPU stops executing code, no peripheral are
disabled. All interrupt sources can wake up the device</p>
<p>Standby sleep mode: The user can configure peripherals to be
enabled or not using the respective RUNSTDBY bit. This means that power
consumption is highly dependent on what functionality is enabled.</p>
<p>Three are three levels of idle mode:</p>
<p>Idle 0: The CPU clock domain is stopped</p>
<p>Idle 1: The CPU and AHB clock domains are stopped</p>
<p>Idle 2: The CPU, AHB and APB clock domains are stopped</p>
<p>Reset Controller</p>
<p>The Reset Controller collects the various reset sources and generates
reset for the device and allows the reset source to be identified by
the software.</p>
<p>Power On Reset: The device contains a power-on-reset
(POR) detector, which keeps the system reset until power is stable.
This eliminates the need for external reset circuitry to guarantee
stable operation when powering up the device.</p>
<p>VDDCORE Brown Out Reset: BOD12 will reset the device if a
voltage of 1.2 V or below is observed on the I/O pin supplying power to
the MCU core (VDDCORE).</p>
<p>VDDANA Brown Out Reset: BOD33 resets the device if the
voltage on the VDDANA pin falls below a value configured by the SYSCTRL</p>
<p>Watchdog Reset: The watchdog reset occurs when it times out</p>
<p>System Reset: The System Reset Request is a software reset
generated by the CPU when asserting the SYSRESETREQ bit located in the
Reset Control register of the CPU</p>
<p>External Reset: A external reset is generated when a low
level is detected on the RESET pin</p>
<p>Resets are divided into two modes based upon the source of the reset.</p>
<p>Power Resets include resets generated by POR, BOD12, and BOD33.</p>
<p>User Resets consist of the external reset, WDT, and the software
reset instruction</p>
<p>Both power and user reset causes the device to restart and set most
registers of the MCU to a preset state. The difference between the two
modes is how they affect the Real Time Clock, the 32 K oscillator, and
the WDT. The underlying reasoning for having two reset modes is to
protect the operation of the WDT and the RTC from non-power related
anomalies.</p>
<p>Synchronous Clock Controller</p>
<p>The main clock is s the common root for the synchronous clocks. This is
fed into the common 8-bit prescaler that is used to generate
synchronous clocks to the CPU, AHB and APBx modules.</p>
<ul>
<li>Idle sleep mode: The CPU stops executing code, no peripheral are
disabled. All interrupt sources can wake up the device</li>
<li>
<p>Standby sleep mode: The user can configure peripherals to be
enabled or not using the respective RUNSTDBY bit. This means that power
consumption is highly dependent on what functionality is enabled.</p>
</li>
<li>
<p>Idle 0: The CPU clock domain is stopped</p>
</li>
<li>Idle 1: The CPU and AHB clock domains are stopped</li>
<li>
<p>Idle 2: The CPU, AHB and APB clock domains are stopped</p>
</li>
<li>
<p>Power On Reset: The device contains a power-on-reset
(POR) detector, which keeps the system reset until power is stable.
This eliminates the need for external reset circuitry to guarantee
stable operation when powering up the device.</p>
</li>
<li>VDDCORE Brown Out Reset: BOD12 will reset the device if a
voltage of 1.2 V or below is observed on the I/O pin supplying power to
the MCU core (VDDCORE).</li>
<li>VDDANA Brown Out Reset: BOD33 resets the device if the
voltage on the VDDANA pin falls below a value configured by the SYSCTRL</li>
<li>Watchdog Reset: The watchdog reset occurs when it times out</li>
<li>System Reset: The System Reset Request is a software reset
generated by the CPU when asserting the SYSRESETREQ bit located in the
Reset Control register of the CPU</li>
<li>
<p>External Reset: A external reset is generated when a low
level is detected on the RESET pin</p>
</li>
<li>
<p>Power Resets include resets generated by POR, BOD12, and BOD33.</p>
</li>
<li>User Resets consist of the external reset, WDT, and the software
reset instruction</li>
</ul>
<h2>Using The Library</h2>
<p>The power manager peripheral library provides API to enter Idle Sleep
mode and Standby Sleep mode. It also provides API to find the cause of
last device reset</p>
<h2>Library Interface</h2>
<p>Power Manager peripheral library provides the following interfaces:</p>
<p>Functions</p>
<p>Data types and constants</p>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PM_ResetCauseGet</td>
<td>Reports the cause of the last reset</td>
</tr>
<tr>
<td>PM_StandbyModeEnter</td>
<td>Puts the device in standby mode</td>
</tr>
<tr>
<td>PM_IdleModeEnter</td>
<td>Puts the device in Idle mode</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PM_RESET_CAUSE</td>
<td>Enum</td>
<td>Identifies the type of reset</td>
</tr>
</tbody>
</table>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>