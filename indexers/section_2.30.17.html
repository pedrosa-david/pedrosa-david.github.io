<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMAC ChannelCRCSetup Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.30.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.30.html">Direct Memory Access Controller (DMAC)</a></li>
        <li class="breadcrumb-item active" aria-current="page">DMAC ChannelCRCSetup Function</li>
    </ol>
</nav>

<h1>DMAC ChannelCRCSetup Function</h1>
<h1>2.30.17</h1>
<p>DMAC_ChannelCRCSetup Function</p>
<p><em>Generated on: 2025-02-20 07:44:02</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-17431D0E-B538-41B9-8FA9-861BAC4C365E.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-17431D0E-B538-41B9-8FA9-861BAC4C365E.html</a></p>
<h1><span id="2-30-17-dmac-channelcrcsetup-function"></span>2.30.17 DMAC_ChannelCRCSetup Function</h1>
<h2><span id="c"></span>C code</h2>
<p><pre class="code-block"><code class="language-c">void DMAC_ChannelCRCSetup( DMAC_CHANNEL channel, DMAC_CRC_SETUP CRCSetup )</code></pre></p>
<h2><span id="summary"></span>Summary</h2>
<p>DMA Channel CRC setup and enable function</p>
<h2><span id="description"></span>Description</h2>
<p>Sets up the DMA CRC engine for a particular channel and enables it.
CRC can be enabled for only one channel at a time.</p>
<p>Application needs to call this API with proper setup parameters every time
before starting any DMA transfer. If the CRC engine is enabled and configured in Memory mode, then store the seed to be used by CRC engine in the destination address passed to the DMAC_ChannelTransfer() API.</p>
<p>DMAC_CRCRead() function should be used to read the Generated CRC value.</p>
<h2><span id="parameters"></span>Parameters</h2>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DMAC_CHANNEL channel</td>
<td>The DMAC channel that should be used for CRC Calculation</td>
</tr>
<tr>
<td>DMAC_CRC_SETUP crcSetup</td>
<td>parameter holding the crc setup information. it may vary from one device family to another.</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DMAC_CHANNEL channel</td>
<td>The DMAC channel that should be used for CRC Calculation</td>
</tr>
<tr>
<td>DMAC_CRC_SETUP crcSetup</td>
<td>parameter holding the crc setup information. it may vary from one device family to another.</td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<p>void</p>
<h2><span id="example"></span>Example</h2>
<p>Example of this function varies based on device family. Refer to the one which is applicable for the device being used.</p>
<p>```C</p>
<h1>define DMAC_TRANSFER_SIZE 13</h1>
<p>const uint8_t srcBuffer[DMAC_TRANSFER_SIZE] = {'1', '2', '3', '4', '5', '6', '7', '8', '9', 0, 0, 0, 0};
uint8_t CACHE_ALIGN dstBuffer[DMAC_TRANSFER_SIZE] = {0};</p>
<p>DMAC_CRC_SETUP crcSetup = {0};</p>
<p>crcSetup.reverse_data_input = true;
crcSetup.polynomial_length = 32;
crcSetup.polynomial = 0x04C11DB7;
crcSetup.non_direct_seed = 0x46AF6449;
crcSetup.reverse_crc_output = true;
crcSetup.final_xor_value = 0xFFFFFFFF;
DMAC_ChannelCRCSetup(DMAC_CHANNEL_0, crcSetup);
DMAC_ChannelTransfer(DMAC_CHANNEL_0, &amp;srcBuffer, DMAC_TRANSFER_SIZE, &amp;dstBuffer, DMAC_TRANSFER_SIZE, DMAC_TRANSFER_SIZE);
```</p>
<p>```C</p>
<h1>define DMAC_TRANSFER_SIZE 9</h1>
<p>const uint8_t srcBuffer[DMAC_TRANSFER_SIZE] = {'1', '2', '3', '4', '5', '6', '7', '8', '9'};
uint8_t CACHE_ALIGN dstBuffer[DMAC_TRANSFER_SIZE] = {0};</p>
<p>DMAC_CRC_SETUP crcSetup = {0};</p>
<p>crcSetup.polynomial_type = DMAC_CRC_TYPE_32;
crcSetup.seed = 0xFFFFFFFF;
DMAC_ChannelCRCSetup(DMAC_CHANNEL_0, crcSetup);
DMAC_ChannelTransfer(DMAC_CHANNEL_0, &amp;srcBuffer, &amp;dstBuffer, DMAC_TRANSFER_SIZE);
```</p>
<p>```C</p>
<h1>define DMAC_TRANSFER_SIZE 9</h1>
<p>const uint8_t srcBuffer[DMAC_TRANSFER_SIZE] = {'1', '2', '3', '4', '5', '6', '7', '8', '9'};
uint8_t CACHE_ALIGN dstBuffer[DMAC_TRANSFER_SIZE] = {0};</p>
<p>DMAC_CRC_SETUP crcSetup = {0};</p>
<p>crcSetup.crc_mode        = DMAC_CRC_MODE_DEFAULT;
crcSetup.polynomial_type = DMAC_CRC_TYPE_32;
crcSetup.seed = 0xFFFFFFFF;
DMAC_ChannelCRCSetup(DMAC_CHANNEL_0, crcSetup);
DMAC_ChannelTransfer(DMAC_CHANNEL_0, &amp;srcBuffer, &amp;dstBuffer, DMAC_TRANSFER_SIZE);
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>A non direct seed should be used while setting up the DMA CRC</p>
<p>The source buffer used for the DMA transfer should be appended with
additional zero bits based on the CRC to be generated as shown in example</p>
<p>For 16 Bit CRC - Two bytes of 0's needs to be appended</p>
<p>For 32 Bit CRC - Four bytes of 0's needs to be appended</p>
<p>Currently LFSR CRC type is only supported</p>
<ul>
<li>A non direct seed should be used while setting up the DMA CRC</li>
<li>The source buffer used for the DMA transfer should be appended with
additional zero bits based on the CRC to be generated as shown in example</li>
<li>For 16 Bit CRC - Two bytes of 0's needs to be appended</li>
<li>For 32 Bit CRC - Four bytes of 0's needs to be appended</li>
<li>Currently LFSR CRC type is only supported</li>
</ul>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>