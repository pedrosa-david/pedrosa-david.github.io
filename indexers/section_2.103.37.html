<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SERCOMx ISO7816 Xfr Block Tpdu | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.103.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.103.html">Serial Communication Interface (SERCOM)</a></li>
        <li class="breadcrumb-item active" aria-current="page">SERCOMx ISO7816 Xfr Block Tpdu</li>
    </ol>
</nav>

<h1>SERCOMx ISO7816 Xfr Block Tpdu</h1>
<h1>2.103.37</h1>
<p>SERCOMx_ISO7816_Xfr_Block_Tpdu</p>
<p><em>Generated on: 2025-02-20 07:44:01</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-C9BDAE3B-4A36-4F04-91A2-1AAC622687FF.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-C9BDAE3B-4A36-4F04-91A2-1AAC622687FF.html</a></p>
<h1><span id="2-103-37-sercomx-iso7816-xfr-block-tpdu"></span>2.103.37 SERCOMx_ISO7816_Xfr_Block_Tpdu</h1>
<h2><span id="c"></span>C</h2>
<p>```C
/<em> x = SERCOM instance number </em>/</p>
<p>uint16_t SERCOM3_ISO7816_Xfr_Block_Tpdu( uint8_t <em>apdu_cmd_buffer, uint8_t </em>apdu_res_buffer, const size_t apdu_cmd_length )
```</p>
<h2><span id="summary"></span>Summary</h2>
<p>This API write data and reads the response from ISO7816 Smartcard</p>
<h2><span id="description"></span>Description</h2>
<p>This API allows the application to send commands and read back its response. Commands
                like configuration, data write, data read can be sent to card, it executes the
                command and its response (Status Words) is returned back so the API reads back the
                response and updates to apdu_res_buffer paramenter. It returns the byte count it
                received as response.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>Card_Detect, Cold/Warm_Reset functions must be called. These function calls ensure
                the device is up and running in its normal state.</p>
<h2><span id="parameters"></span>Parameters</h2>
<p>| Param | Description |
| apdu_cmd_buffer | Pointer to the command message buffer. This contains
                                the data to be transmitted. |
| apdu_res_buffer | Pointer to the response message buffer. It contains
                                the response data from card. |
| apdu_cmd_length | No of bytes in apdu_cmd_buffer to be transmitted to
                                card. |</p>
<h2><span id="returns"></span>Returns</h2>
<p>The API returns the number of bytes it received from card.</p>
<h2><span id="example"></span>Example</h2>
<p>```C</p>
<h1>define RX_BUFFER_SIZE 256</h1>
<p>unsigned char WriteCommand[] = {0x00, 0xB4, 0x00, 0x0A, 0x02, 0x77, 0x55};
uint8_t resp_rcvd[RX_BUFFER_SIZE];
uint16_t resp_bytes;</p>
<p>resp_bytes = SERCOM3_ISO7816_Xfr_Block_Tpdu(WriteCommand, resp_rcvd, 7);
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>None</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>