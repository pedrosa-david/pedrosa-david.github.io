<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quadrature Encoder Interface (QEI) | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_3.16.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_3.html">Device Families</a></li>
        <li class="breadcrumb-item"><a href="section_3.16.html">PIC32MK MCA Peripheral Libraries</a></li>
        <li class="breadcrumb-item active" aria-current="page">Quadrature Encoder Interface (QEI)</li>
    </ol>
</nav>

<h1>Quadrature Encoder Interface (QEI)</h1>
<h1>3.16.16</h1>
<p>Quadrature Encoder Interface (QEI)</p>
<p><em>Generated on: 2025-02-19 08:42:44</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-B57BC09A-84E7-4674-90A8-D7CA4A2F8670_5.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-B57BC09A-84E7-4674-90A8-D7CA4A2F8670_5.html</a></p>
<h1>3.16.16 Quadrature Encoder Interface (QEI)</h1>
<p>The Quadrature Encoder Interface (QEI) module provides the interface to incremental encoders for obtaining mechanical position data. This module provides below features:</p>
<p>Four input pins: two phase signals, an index pulse and a home pulse</p>
<p>Programmable digital noise filters on inputs</p>
<p>Count direction status</p>
<p>Index (INDX) pulse to reset the position counter</p>
<p>General purpose 32-bit Timer/Counter mode</p>
<p>Interrupts generated by QEI or counter events</p>
<p>32-bit velocity counter</p>
<p>32-bit position counter</p>
<p>32-bit index pulse counter</p>
<p>32-bit interval timer</p>
<p>32-bit position Initialization/Capture register</p>
<p>32-bit Compare Less Than and Greater Than registers</p>
<ul>
<li>Four input pins: two phase signals, an index pulse and a home pulse</li>
<li>Programmable digital noise filters on inputs</li>
<li>Count direction status</li>
<li>Index (INDX) pulse to reset the position counter</li>
<li>General purpose 32-bit Timer/Counter mode</li>
<li>Interrupts generated by QEI or counter events</li>
<li>32-bit velocity counter</li>
<li>32-bit position counter</li>
<li>32-bit index pulse counter</li>
<li>32-bit interval timer</li>
<li>32-bit position Initialization/Capture register</li>
<li>32-bit Compare Less Than and Greater Than registers</li>
</ul>
<h2>Using The Library</h2>
<p>Quadrature encoder signals Phase A, Phase B and an optional index signal and an optional home signal are connected to the QEI peripheral. The quadrature decoder in the QEI peripheral processes these signals with an internal counter to get the position, velocity and revolution count. The quadrature decoder increments or decrements the 32-bit Up/Down Counter for each change of state. The counter increments when QEA leads QEB and decrements when QEB leads QEA</p>
<h2>Library Interface</h2>
<p>Peripheral library provides the following interfaces:</p>
<p>Functions</p>
<p>Data types and constants</p>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>QEIx_Initialize</td>
<td>Initializes given instance of QEI peripheral in quadrature mode</td>
</tr>
<tr>
<td>QEIx_Start</td>
<td>Starts the given QEI instance counter</td>
</tr>
<tr>
<td>QEIx_Stop</td>
<td>Stops the given QEI instance counter</td>
</tr>
<tr>
<td>QEIx_PositionGet</td>
<td>Reads the position from the quadrature encoder</td>
</tr>
<tr>
<td>QEIx_VelocityGet</td>
<td>Reads the velocity counter from the quadrature encoder</td>
</tr>
<tr>
<td>QEIx_RevolutionsGet</td>
<td>Reads the number of revolutions tracked by the quadrature encoder</td>
</tr>
<tr>
<td>QEIx_CallbackRegister</td>
<td>Registers the function to be called from interrupt</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>QEI_INTERRUPT</td>
<td>Enum</td>
<td>Identifies Quadrature mode interrupt source</td>
</tr>
<tr>
<td>QEI_STATUS</td>
<td>Enum</td>
<td>Identifies Quadrature mode interrupt source mask</td>
</tr>
<tr>
<td>QEI_CALLBACK</td>
<td>Typedef</td>
<td>Defines the function pointer data type and function signature for the qei peripheral callback function</td>
</tr>
</tbody>
</table>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>