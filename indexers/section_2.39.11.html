<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EFC PageBufferWrite Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.39.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.39.html">Embedded Flash Controller (EFC)</a></li>
        <li class="breadcrumb-item active" aria-current="page">EFC PageBufferWrite Function</li>
    </ol>
</nav>

<h1>EFC PageBufferWrite Function</h1>
<h1>2.39.11</h1>
<p>EFC_PageBufferWrite Function</p>
<p><em>Generated on: 2025-02-20 07:44:02</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-4F7E685C-6897-4F4B-A236-FCD79E726945.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-4F7E685C-6897-4F4B-A236-FCD79E726945.html</a></p>
<h1><span id="2-39-11-efc-pagebufferwrite-function"></span>2.39.11 EFC_PageBufferWrite Function</h1>
<h2><span id="c"></span>C code</h2>
<p><pre class="code-block"><code class="language-c">bool EFC_PageBufferWrite( uint32_t *data, const uint32_t address)</code></pre></p>
<h2><span id="summary"></span>Summary</h2>
<p>Writes data to the internal buffer of EFC known as the latch buffer</p>
<h2><span id="description"></span>Description</h2>
<p>Writes data to the internal buffer of EFC known as the latch buffer. Use this API if multiple updates are required to the same Flash page and to avoid erasing the page multiple times. When all the updates to the page are done, commit the data to the flash by calling the EFC_PageBufferCommit() API.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>The EFC_Initialize() function should have been called once.</p>
<h2><span id="parameters"></span>Parameters</h2>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>pointer to data buffer.</td>
</tr>
<tr>
<td>address</td>
<td>Data Flash address to be modified.</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>pointer to data buffer.</td>
</tr>
<tr>
<td>address</td>
<td>Data Flash address to be modified.</td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<p>true if the operation was successful, else returns false.</p>
<h2><span id="example"></span>Example</h2>
<p>```C
uint32_t* data; //data - pointer to the buffer to be written to flash memory
uint32_t flashAddr; //flashAddr - variable containing flash address</p>
<p>//populate data and flashAddr</p>
<p>EFC_PageBufferWrite((uint32_t*)data, (uint32_t)flashAddr);</p>
<p>//update data here</p>
<p>EFC_PageBufferWrite((uint32_t*)data, (uint32_t)flashAddr);</p>
<p>//Commit the final data in the EFC internal page buffer to the flash memory
EFC_PageBufferCommit((uint32_t)flashAddr);</p>
<p>//Wait until the EFC controller is busy
while (EFC_IsBusy());
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>None</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>