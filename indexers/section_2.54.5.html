<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I2Cx WriteForced Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.54.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.54.html">Inter-Integrated Circuit - I2C</a></li>
        <li class="breadcrumb-item active" aria-current="page">I2Cx WriteForced Function</li>
    </ol>
</nav>

<h1>I2Cx WriteForced Function</h1>
<h1>2.54.5</h1>
<p>I2Cx_WriteForced Function</p>
<p><em>Generated on: 2025-02-20 07:44:03</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-7251DDD7-80AC-45DC-B210-D77DDAB61636.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-7251DDD7-80AC-45DC-B210-D77DDAB61636.html</a></p>
<h1><span id="2-54-5-i2cx-writeforced-function"></span>2.54.5 I2Cx_WriteForced Function</h1>
<h2><span id="c"></span>C</h2>
<p>```C
/<em> x = I2C instance number </em>/</p>
<p>/<em> I2C master mode </em>/
bool I2Cx_WriteForced(uint16_t address, uint8_t* pdata, size_t length)
```</p>
<h2><span id="summary"></span>Summary</h2>
<p>Forced write data to the slave.</p>
<h2><span id="description"></span>Description</h2>
<p>Master calls this function to transmit the entire buffer to the slave even if the slave ACKs or NACKs the address or any of the data bytes. This is typically used for slaves that have to initiate a reset sequence by sending a dummy I2C transaction. Since the slave is still in reset, any or all the bytes can be NACKed. In the normal operation, if the address or data byte is NACKed, then the transmission is aborted and a STOP condition is asserted on the bus; however, the forced API continues to write data to the slave even if a NAK has been received.The function will attempt to write length number of bytes from pdata buffer to a slave whose address is specified by address. The I2C Master will generate a Start condition, write the data and then generate a Stop Condition.  The function is non-blocking. It initiates bus activity and returns immediately. The transfer is then completed in the peripheral interrupt. A transfer request cannot be placed when another transfer is in progress. The library will call the registered callback function when the transfer has completed.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>I2Cx_Initialize must have been called for the associated I2C instance.</p>
<h2><span id="parameters"></span>Parameters</h2>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>7-bit / 10-bit slave address.</td>
</tr>
<tr>
<td>pdata</td>
<td>pointer to source data buffer that contains the data to be transmitted.</td>
</tr>
<tr>
<td>length</td>
<td>length of data buffer in number of bytes. Also the number of bytes to be written.</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>7-bit / 10-bit slave address.</td>
</tr>
<tr>
<td>pdata</td>
<td>pointer to source data buffer that contains the data to be transmitted.</td>
</tr>
<tr>
<td>length</td>
<td>length of data buffer in number of bytes. Also the number of bytes to be written.</td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<p>true - The request was placed successfully and the bus activity was initiated.
        false - The request fails, if there was already a transfer in progress when this function was called.</p>
<h2><span id="example"></span>Example</h2>
<p>```C
uint8_t myData [NUM_BYTES];
void MyI2CCallback(uintptr_t context)
{
    // This function will be called when the transfer completes. Note
    // that this functioin executes in the context of the I2C interrupt.
}</p>
<p>I2Cx_Initialize();
I2Cx_CallbackRegister(MyI2CCallback, NULL);</p>
<p>if(!I2Cx_WriteForced( SLAVE_ADDR, &amp;myData[0], NUM_BYTES ))
{
    // error handling
}
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>None.</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>