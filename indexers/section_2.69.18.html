<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NVM CallbackRegister Function | Microchip Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            overflow: hidden;
            width: 280px;
        }

        .nav-frame {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .main {
            margin-left: 280px;
            padding: 20px;
        }

        .nav-link {
            color: #333;
            padding: .5rem 1rem;
        }

        .nav-link.active {
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .parameters-table {
            width: 100%;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="sidebar">
                <iframe class="nav-frame" src="navigation.html" title="Navigation"></iframe>
            </nav>
            <main class="main">
<div class="doc-navigation">
    <a href="section_2.69.html">↑ Up to Section</a><br />
    <a href="index.html">↑↑ Back to Main Documentation</a>
</div>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="section_2.html">API Documentation</a></li>
        <li class="breadcrumb-item"><a href="section_2.69.html">Non-Volatile Memory (NVM)</a></li>
        <li class="breadcrumb-item active" aria-current="page">NVM CallbackRegister Function</li>
    </ol>
</nav>

<h1>NVM CallbackRegister Function</h1>
<h1>2.69.18</h1>
<p>NVM_CallbackRegister Function</p>
<p><em>Generated on: 2025-02-20 07:44:04</em></p>
<p>Source: <a href="https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-A0B78F9F-F56E-48D9-894F-E2BAD0FBE238.html">https://onlinedocs.microchip.com/oxy/GUID-450989FA-38E4-4D68-AB61-15ADB29AD718-en-US-5/GUID-A0B78F9F-F56E-48D9-894F-E2BAD0FBE238.html</a></p>
<h1><span id="2-69-18-nvm-callbackregister-function"></span>2.69.18 NVM_CallbackRegister Function</h1>
<h2><span id="c"></span>C code</h2>
<p><pre class="code-block"><code class="language-c">void NVM_CallbackRegister( NVM_CALLBACK callback, uintptr_t context )</code></pre></p>
<h2><span id="summary"></span>Summary</h2>
<p>Sets the pointer to the function (and it's context) to be called when the operation is complete.</p>
<h2><span id="description"></span>Description</h2>
<p>This function sets the pointer to a client function to be called "back" when the NVM has
        completed an operation and is ready to receive new command. It also passes a context value
        that is passed into the callback function when it is called. This function is available only
        when the library is generated with interrupt option (in MCC) enabled.</p>
<h2><span id="precondition"></span>Precondition</h2>
<p>Interrupt option in MCC should have been enabled</p>
<h2><span id="parameters"></span>Parameters</h2>
<h3>Parameters</h3>
<table class="data-table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>A pointer to a function with a calling signature defined by the NVM_CALLBACK data type.</td>
</tr>
<tr>
<td>context</td>
<td>A value (usually a pointer) passed (unused) into the function identified by the callback parameter.</td>
</tr>
</tbody>
</table>
<table class="data-table">
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>A pointer to a function with a calling signature defined by the NVM_CALLBACK data type.</td>
</tr>
<tr>
<td>context</td>
<td>A value (usually a pointer) passed (unused) into the function identified by the callback parameter.</td>
</tr>
</tbody>
</table>
<h2><span id="returns"></span>Returns</h2>
<p>None.</p>
<h2><span id="example"></span>Example</h2>
<p>```C
typedef struct
{
    bool operationComplete;</p>
<p>} APP_DATA;</p>
<p>// Callback is called when an operation completes.
void APP_NVMCallback(uintptr_t context)
{
    APP_DATA * appData = (APP_DATA *)context;
    appData-&gt;operationComplete = true;
}</p>
<p>// Function calls in main thread.
APP_DATA myAppData;
myAppData.operationComplete = false;</p>
<p>// Register the callback
NVM_CallbackRegister(APP_NVMCallback, &amp;myAppData);</p>
<p>// Perform some operation.
NVM_PageErase(SOME_PAGE_ALIGNED_ADDRESS);</p>
<p>// Now wait for the operation to complete.
while(!myAppData.operationComplete);
```</p>
<h2><span id="remarks"></span>Remarks</h2>
<p>The context value may be set to NULL if it is not required. Note that the value of NULL will still be passed to the callback function. To disable the callback function, pass a NULL for the callback parameter. See the NVM_CALLBACK type definition for additional information.</p>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>